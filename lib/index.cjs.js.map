{"version":3,"file":"index.cjs.js","sources":["../src/helpers/storyblokBridge.ts","../src/composables/useContent.ts","../src/composables/renderContent.ts"],"sourcesContent":["declare const window: any\n\nexport const storyblokBridge = (\n  content: { content: {}[] },\n  events: string[],\n): any => {\n  window.storyblok.init()\n  if (Array.isArray(events) && events.length) {\n    window.storyblok.on(events, (event) => {\n      if (event.action === 'input') {\n        content.content = event.story.content\n      }\n    })\n  }\n}\n","import { useContentFactory, UseContent, Context } from '@vue-storefront/core'\nimport { ContentSearchParams } from '../types'\n\nconst search = async (\n  context: Context,\n  params: ContentSearchParams,\n): Promise<any> => {\n  return context.$sb.api.getContent(params)\n}\nconst useContent: (\n  cacheId: string,\n) => UseContent<any, ContentSearchParams> = useContentFactory<\n  any,\n  ContentSearchParams\n>({ search })\n\nexport { useContent }\n","import { RenderComponent } from '@vue-storefront/core'\nimport { Component } from '../types'\n\nexport const extractComponents = (\n  contentData: {} | [] = [],\n): RenderComponent[] => {\n  let content = contentData\n  if (!Array.isArray(contentData)) content = [content]\n  return (content as []).map((component: Component): {\n    componentName: string\n    props: {}\n  } => {\n    const props = Object.keys(component).reduce(\n      (res: {}, key: string) => ({\n        ...res,\n        [key]: component[key],\n      }),\n      {},\n    )\n    return {\n      componentName: component.component || 'CustomComponent',\n      props,\n    }\n  })\n}\n"],"names":["useContentFactory"],"mappings":";;;;;;;IAEa,eAAe,GAAG,UAC7B,OAA0B,EAC1B,MAAgB;IAEhB,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAA;IACvB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC,MAAM,EAAE;QAC1C,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,EAAE,UAAC,KAAK;YAChC,IAAI,KAAK,CAAC,MAAM,KAAK,OAAO,EAAE;gBAC5B,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAA;aACtC;SACF,CAAC,CAAA;KACH;AACH;;ACXA,IAAM,MAAM,GAAG,UACb,OAAgB,EAChB,MAA2B;;QAE3B,sBAAO,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC,EAAA;;KAC1C,CAAA;IACK,UAAU,GAE4BA,sBAAiB,CAG3D,EAAE,MAAM,QAAA,EAAE;;ICXC,iBAAiB,GAAG,UAC/B,WAAyB;IAAzB,4BAAA,EAAA,gBAAyB;IAEzB,IAAI,OAAO,GAAG,WAAW,CAAA;IACzB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;QAAE,OAAO,GAAG,CAAC,OAAO,CAAC,CAAA;IACpD,OAAQ,OAAc,CAAC,GAAG,CAAC,UAAC,SAAoB;QAI9C,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CACzC,UAAC,GAAO,EAAE,GAAW;;YAAK,0CACrB,GAAG,gBACL,GAAG,IAAG,SAAS,CAAC,GAAG,CAAC;SACrB,EACF,EAAE,CACH,CAAA;QACD,OAAO;YACL,aAAa,EAAE,SAAS,CAAC,SAAS,IAAI,iBAAiB;YACvD,KAAK,OAAA;SACN,CAAA;KACF,CAAC,CAAA;AACJ;;;;;;"}